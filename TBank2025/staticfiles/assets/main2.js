import{d as g,r as n,u as b,a as v,c as V,w as t,b as w,o as h,e as a,f as s,V as k,g as f,h as S,i as c,j as B,k as C}from"./main.js";import{V as N,a as _,b as j,c as q,r as m}from"./main6.js";const z={class:"d-flex flex-column align-center gap-4 mb-6"},L=g({__name:"LoginView",setup(A){const o=n(""),r=n(!1),i=w(),p=b(),l=v(),u=n(),y=async()=>{const{valid:d}=await u.value.validate();if(d){r.value=!0;try{await p.auth(o.value)==="created"?(i.push("/setup"),l.notify("Аккаунт создан! Заполните профиль","info")):(i.push("/dashboard"),l.notify("С возвращением!","success"))}catch{l.notify("Ошибка соединения с сервером","error")}finally{r.value=!1}}};return(d,e)=>(h(),V(N,{class:"fill-height justify-center bg-background"},{default:t(()=>[a(_,{width:"400",class:"pa-6 rounded-xl",elevation:"0"},{default:t(()=>[s("div",z,[a(k,{color:"primary",size:"64",class:"mb-4"},{default:t(()=>[...e[2]||(e[2]=[s("span",{class:"text-h4 font-weight-bold text-on-primary"},"RA",-1)])]),_:1}),e[3]||(e[3]=s("h1",{class:"text-h5 font-weight-bold text-secondary"}," Добро пожаловать ",-1)),e[4]||(e[4]=s("p",{class:"text-body-2 text-grey-darken-1 text-center"}," Введите ваш никнейм (только латиница и цифры). ",-1))]),a(j,{ref_key:"form",ref:u,onSubmit:f(y,["prevent"])},{default:t(()=>[a(q,{modelValue:o.value,"onUpdate:modelValue":e[0]||(e[0]=x=>o.value=x),label:"Ваш Никнейм",placeholder:"user123",variant:"outlined",rounded:"xl","bg-color":"white",rules:[c(m).required,c(m).nickname],required:"",onKeydown:e[1]||(e[1]=S(f(()=>{},["prevent"]),["space"]))},null,8,["modelValue","rules"]),a(B,{type:"submit",block:"",color:"primary",size:"x-large",class:"mt-4 text-on-primary font-weight-bold",loading:r.value},{default:t(()=>[...e[5]||(e[5]=[C(" Войти / Создать ",-1)])]),_:1},8,["loading"])]),_:1},512)]),_:1})]),_:1}))}});export{L as default};
